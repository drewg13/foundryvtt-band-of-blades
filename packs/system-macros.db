{"name":"Change Custom Specialist Action","type":"script","author":"44KIo4FfsszNdQAs","img":"icons/svg/dice-target.svg","scope":"global","command":"if(actor){\n  let label = canvas.tokens.controlled[0].actor.system.attributes.specialist.skills.custom.label;\n  let tip = canvas.tokens.controlled[0].actor.system.attributes.specialist.skills.custom.tip;\n  let id = actor.id;\n  let html = `\n    <form>\n      <div>\n        <label for=\"label\">${game.i18n.localize(\"BITD.CustomLabel\")}</label>\n        <input type=\"text\" id=\"label-${id}\" name=\"labelField\" value=\"${label}\">\n      </div>\n\n      <div>\n        <label for=\"tip\">${game.i18n.localize(\"BITD.CustomTip\")}</label>\n        <input type=\"text\" id=\"tip-${id}\" name=\"tipField\" value=\"${tip}\">\n      </div>\n    </form>\n  `;\n  let dialog = new Dialog({\n    title: `${game.i18n.localize(\"BITD.ChangeCustomAction\")}`,\n    content: html,\n    buttons: {\n      one: {\n        icon: '<i class=\"fas fa-check\"></i>',\n        label: game.i18n.localize('AreYouSure'),\n        callback: async (html) => {\n          let label = html[0].querySelector(\"input[name='labelField']\").value;\n          let tip = html[0].querySelector(\"input[name='tipField']\").value;\n          await canvas.tokens.controlled[0].actor.update({\"system.attributes.specialist.skills.custom\":{\"label\":label,\"tip\":tip}});\n        }\n      },\n      two: {\n        icon: '<i class=\"fas fa-times\"></i>',\n        label: game.i18n.localize('BITD.Cancel'),\n        callback: () => false\n      }\n    },\n    default: \"two\"\n  }, {}).render(true);\n} else {\n  ui.notifications.warn( \"Select a token before executing this macro\" );\n}","flags":{"core":{"sourceId":"Macro.In5cyrZiyxLkSLej"}},"_stats":{"systemId":"band-of-blades","systemVersion":"2.0.5","coreVersion":"10.291","createdTime":1677952934757,"modifiedTime":1677964880561,"lastModifiedBy":"44KIo4FfsszNdQAs"},"folder":null,"sort":0,"ownership":{"default":0,"44KIo4FfsszNdQAs":3},"_id":"iMjYMmxTRnnewsNl"}
