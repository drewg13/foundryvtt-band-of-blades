<div id="attributes">

  {{#each data.attributes as |attribute attribute_name|}}
  {{#unless (eq attribute_name "specialist")}}
  <div id="attributes-{{attribute_name}}" class="attribute">
    <div id="attributes-{{attribute_name}}-title" class="attributes-exp">
      <div class="stripe">
        <a class="attribute-label roll-die-attribute rollable-text tooltip" data-roll-attribute="{{attribute_name}}">{{localize (concat attribute.label 'Short')}}<span class="tooltiptext left delay">{{{localize attribute.tip}}}</span></a>
      </div>
      <div class="stripe-tooth-body-blue">
        {{#multiboxes attribute.exp}}
          <label for="{{../actor._id}}-{{attribute_name}}-exp-0">{{localize "BITD.AExperience"}}<i class="fab fa-creative-commons-zero nullifier"></i></label>
          <input type="radio" id="{{../actor._id}}-{{attribute_name}}-exp-0" name="data.attributes.{{attribute_name}}.exp" value="0" checked="checked">
          {{#times_from_1 6}}
            <input type="radio" id="{{../../actor._id}}-{{attribute_name}}-exp-{{this}}" name="data.attributes.{{attribute_name}}.exp" value="{{this}}">
            <label for="{{../../actor._id}}-{{attribute_name}}-exp-{{this}}"></label>
          {{/times_from_1}}
        {{/multiboxes}}
      </div>
    </div>
    
    {{!-- Skills --}}

    {{#each attribute.skills as |skill skill_name|}}
      <div class="flex-horizontal">
        {{#if (gt skill.max 0)}}
          <div class="attributes-container">
            {{#multiboxes skill.value}}
              {{#times_from_0 skill.max}}
                <input type="radio" id="attributes-{{../../../actor._id}}-{{skill_name}}-{{this}}" name="data.attributes.{{attribute_name}}.skills.{{skill_name}}.value" value="{{this}}">
                <label for="attributes-{{../../../actor._id}}-{{skill_name}}-{{this}}"></label>
              {{/times_from_0}}
              <div class="attribute-skill-label roll-die-attribute rollable-text tooltip" data-roll-attribute="{{skill_name}}">{{localize skill.label}}<span class="tooltiptext delay">{{{localize skill.tip}}}</span></div>
            {{/multiboxes}}
          </div>
        {{/if}}
      </div>
    {{/each}}
  </div>
  {{/unless}}

  {{#if (eq attribute_name "specialist")}}
    {{#if (gt ../data.item_triggers.specialist 0)}}
    <div id="attributes-{{attribute_name}}" class="attribute">
      <div id="attributes-{{attribute_name}}-title" class="attributes-exp">
        <div class="stripe">
          <span class="attribute-label tooltip" data-roll-attribute="{{attribute_name}}">{{localize (concat attribute.label 'Short')}}<span class="tooltiptext left delay">{{{localize attribute.tip}}}</span></span>
        </div>
        <div class="stripe-tooth-body-blue">
          {{#multiboxes attribute.exp}}

            <label for="{{../actor._id}}-{{attribute_name}}-exp-0">{{localize "BITD.AExperience"}}<i class="fab fa-creative-commons-zero nullifier"></i></label>
            <input type="radio" id="{{../actor._id}}-{{attribute_name}}-exp-0" name="data.attributes.{{attribute_name}}.exp" value="0" checked="checked">
            {{#times_from_1 6}}
              <input type="radio" id="{{../../actor._id}}-{{attribute_name}}-exp-{{this}}" name="data.attributes.{{attribute_name}}.exp" value="{{this}}">
              <label for="{{../../actor._id}}-{{attribute_name}}-exp-{{this}}"></label>
            {{/times_from_1}}
          {{/multiboxes}}
        </div>
      </div>

      {{!-- Skills --}}

      {{#each attribute.skills as |skill skill_name|}}
        <div class="flex-horizontal">
          {{#if (gt skill.max 0)}}
            <div class="attributes-container">
              {{#multiboxes skill.value}}
                {{#times_from_0 skill.max}}
                  <input type="radio" id="attributes-{{../../../actor._id}}-{{skill_name}}-{{this}}"
                         name="data.attributes.{{attribute_name}}.skills.{{skill_name}}.value" value="{{this}}">
                  <label for="attributes-{{../../../actor._id}}-{{skill_name}}-{{this}}"></label>
                {{/times_from_0}}
                <div class="attribute-skill-label tooltip" data-roll-attribute="{{skill_name}}">{{localize skill.label}}<span class="tooltiptext delay">{{{localize skill.tip}}}</span></div>
                <div class="skill-select">
                  <span>{{localize "BITD.Uses"}}</span>
                  <select id="skilluses-{{skill_name}}-{{../../actor._id}}" name="data.attributes.{{attribute_name}}.skills.{{skill_name}}.usesIndex">{{selectOptions (lookup skill 'usesArray') selected=(lookup skill 'usesIndex') localize=true}}</select>
                </div>
              {{/multiboxes}}
            </div>
          {{/if}}
        </div>
      {{/each}}

    </div>

  {{/if}}
  {{/if}}
  {{/each}}


</div>
